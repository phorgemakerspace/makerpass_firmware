; PlatformIO project configuration for the MakerPass firmware
; This configuration targets an ESP32‑WROVER‑IE (esp32dev board
; variant) and pulls in the libraries required for WiFi, WebSockets,
; JSON parsing, TFT display and Wiegand RFID support.

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200

; Pin and display configuration for the 1.9″ ST7789 TFT.  These
; definitions are passed to the TFT_eSPI library so that it can
; correctly initialise the SPI bus and driver.  The ST7789 does not
; use a chip‑select pin (TFT_CS = −1).  The display is oriented
; horizontally (landscape) and operates at an 8 MHz SPI clock.
build_flags =
  -DST7789_DRIVER=1
  -DUSER_SETUP_LOADED=1
  -DTFT_MOSI=21
  -DTFT_SCLK=22
  -DTFT_CS=-1
  -DTFT_DC=14
  -DTFT_RST=13
  -DTFT_WIDTH=170
  -DTFT_HEIGHT=320
  -DSPI_FREQUENCY=8000000
  -DTFT_RGB_ORDER=0
  -DWEBSOCKET_SSL_INSECURE=1
  ; Enable the built‑in fonts (2 through 8) and smooth font support.
  -DLOAD_GLCD=1
  -DLOAD_FONT2=1
  -DLOAD_FONT4=1
  -DLOAD_FONT6=1
  -DLOAD_FONT7=1
  -DLOAD_FONT8=1
  -DSMOOTH_FONT=1

; Library dependencies.  ArduinoJson v7.x is used for composing and
; parsing JSON messages.  WebSocketsClient provides a light‑weight
; WebSocket implementation suitable for ESP32.  The TFT_eSPI and
; Wiegand libraries handle the display and RFID input respectively.
lib_deps =
  bodmer/TFT_eSPI @ ^2.5.43
  bblanchon/ArduinoJson @ ^7.0.0
  links2004/WebSockets @ ^2.3.6
  https://github.com/monkeyboard/Wiegand-Protocol-Library-for-Arduino.git